<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>{% block title %}Welcome!{% endblock %}</title>
{% block stylesheets %}
  <link rel="stylesheet" href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
{% endblock %}
</head>
<body>

{% block body %}
  {% block navbar %}
  <nav class="navbar navbar-expand-sm navbar-light bg-light mb-3">
    <a class="navbar-brand" href="{{ path('app_index') }}">RBAC</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar">
      {{ knp_menu_render('navbar', {currentClass: 'active'}) }}
    </div>
    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
      <li class="nav-item dropdown show">
        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
          你好，{{ app.user.username }}（{{ app.user.role.name }}）
          <a href="{{ logout_path() }}">退出</a></h1>
        {% else %} 
          <a href="{{ path('app_login') }}">立即登录</a></h1>
        {% endif %}
      </li>
    </ul>
  </nav>
  {% endblock %}

  <div class="container">
    {% block container %}{% endblock %}
  </div>
{% endblock %}

{% block javascripts %}
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js" ></script>
{% endblock %}

</body>
</html>
